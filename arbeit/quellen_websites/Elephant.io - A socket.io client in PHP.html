<!DOCTYPE html>
<!-- saved from url=(0019)http://elephant.io/ -->
<html><script type="text/javascript" async="" src="./Elephant.io - A socket.io client in PHP_files/ga.js"></script><script type="text/javascript">window["_gaUserPrefs"] = { ioo : function() { return true; } }</script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Elephant.io: a library for php realtime apps using socket.io.</title>
        

        <link href="http://elephant.io/css/main.css" rel="stylesheet" media="all">
        <link href="http://elephant.io/css/prettify-sunburst.css" rel="stylesheet" media="all">

        <script src="./Elephant.io - A socket.io client in PHP_files/prettify.js"></script><style type="text/css"></style>
        <script src="./Elephant.io - A socket.io client in PHP_files/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                function loadContent(hash) {
                    $("div#content").html($("div#page-"+hash).html());
                    $("#menu li.active").removeClass('active');
                    $("a."+hash).parent().addClass('active');
                }

                if (location.hash) {
                    loadContent(location.hash.substr(1));
                } else {
                    loadContent('home');
                }

                $("a.home").click(function() {
                    loadContent('home');
                });

                $("a.usage").click(function() {
                    loadContent('usage');
                });

                $("a.methods").click(function() {
                    loadContent('methods');
                });

                $("a.future").click(function() {
                    loadContent('future');
                });
            });
        </script>
    </head>
    <body onload="prettyPrint()">
        <div id="header">
            <img id="logo" src="./Elephant.io - A socket.io client in PHP_files/logo.png" alt="elephant.io" width="400">
            <a href="https://github.com/wisembly/elephant.io"><img style="position: absolute; top: 0; right: 0; border: 0;" src="./Elephant.io - A socket.io client in PHP_files/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
            <ul id="menu">
                <li class="active"><a class="home" href="http://elephant.io/#home">Home</a></li>
                <li><a class="usage" href="http://elephant.io/#usage">Usage</a></li>
                <li><a class="methods" href="http://elephant.io/#methods">Methods</a></li>
                <li><a class="future" href="http://elephant.io/#future">Future</a></li>
            </ul>
        </div>
        <div id="content">
                <h2>What is elephant.io ?</h2>
                <p>
                    Elephant.io provides a <strong>socket.io client fully written in PHP</strong> that should be usable everywhere in your project.
                </p>
                <p>
                    It is a light and easy to use library that aims to bring some real-time functionality to a PHP application through socket.io and websockets for actions that could not be done in full javascript, such as:
                    </p><ul>
                        <li>backend agregation cron tasks,</li>
                        <li>REST full backend APIs</li>
                        <li>and more..</li>
                    </ul>
                <p></p>
                <h2>Requirements</h2>
                <div class="transparent-block">
                    <p>For elephant.io magic to operate, the following dependencies must be fulfilled :</p>
                    <ul>
                        <li>Socket.IO 0.8+</li>
                        <li>PHP 5.3+</li>
                        <li>NodeJS 0.6.5+</li>
                    </ul>
                </div>
            </div>
        <div id="hidden-content" style="display: none;">
            <div id="page-home">
                <h2>What is elephant.io ?</h2>
                <p>
                    Elephant.io provides a <strong>socket.io client fully written in PHP</strong> that should be usable everywhere in your project.
                </p>
                <p>
                    It is a light and easy to use library that aims to bring some real-time functionality to a PHP application through socket.io and websockets for actions that could not be done in full javascript, such as:
                    </p><ul>
                        <li>backend agregation cron tasks,</li>
                        <li>REST full backend APIs</li>
                        <li>and more..</li>
                    </ul>
                <p></p>
                <h2>Requirements</h2>
                <div class="transparent-block">
                    <p>For elephant.io magic to operate, the following dependencies must be fulfilled :</p>
                    <ul>
                        <li>Socket.IO 0.8+</li>
                        <li>PHP 5.3+</li>
                        <li>NodeJS 0.6.5+</li>
                    </ul>
                </div>
            </div>
            <div id="page-usage">
                <h2>Close connection when finished (recommended)</h2>
                <p>
                    The classic connection. It will allow you to connect to your socket.io instance and then emits something to it.
                    It will then disconnect at the end of the script. We recommend using this for the time being.
                </p>

                <h4>PHP server side:</h4>
                <div class="example">
                    <pre class="prettyprint"><span class="pln">                        </span><code class="language-php"><span class="pln">
</span><span class="kwd">use</span><span class="pln"> </span><span class="typ">ElephantIO</span><span class="pln">\Client </span><span class="kwd">as</span><span class="pln"> </span><span class="typ">Elephant</span><span class="pun">;</span><span class="pln">

$elephant </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Elephant</span><span class="pun">(</span><span class="str">'http://localhost:8000'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'socket.io'</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

$elephant</span><span class="pun">-&gt;</span><span class="pln">init</span><span class="pun">();</span><span class="pln">
$elephant</span><span class="pun">-&gt;</span><span class="pln">send</span><span class="pun">(</span><span class="pln">
    </span><span class="typ">ElephantIOClient</span><span class="pun">::</span><span class="pln">TYPE_EVENT</span><span class="pun">,</span><span class="pln">
    </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
    </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
    json_encode</span><span class="pun">(</span><span class="pln">array</span><span class="pun">(</span><span class="str">'name'</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="str">'foo'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'args'</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="str">'bar'</span><span class="pun">))</span><span class="pln">
</span><span class="pun">);</span><span class="pln">
$elephant</span><span class="pun">-&gt;</span><span class="pln">close</span><span class="pun">();</span><span class="pln">

echo </span><span class="str">'tryin to send `bar` to the event `foo`'</span><span class="pun">;</span><span class="pln">
                        </span></code><span class="pln">
                    </span></pre>
                </div>

                <h4>Socket.io server side:</h4>
                <div class="example">
                    <pre class="prettyprint"><span class="pln">                        </span><code class="language-php"><span class="pln">
</span><span class="kwd">var</span><span class="pln"> io </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'socket.io'</span><span class="pun">).</span><span class="pln">listen</span><span class="pun">(</span><span class="lit">8000</span><span class="pun">);</span><span class="pln">

io</span><span class="pun">.</span><span class="pln">sockets</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'connection'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">socket</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'user connected!'</span><span class="pun">);</span><span class="pln">

  socket</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'foo'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'here we are in action event and data is: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> data</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span><span class="pln">
                        </span></code><span class="pln">
                    </span></pre>

                </div>

                <h2>Making a persistent connection (not recommended yet)</h2>
                <p>
                    For a persistent connection, here is an example of how to initiate the connection and emit an Hello World message.
                    Once the message is sent, the connection will be kept with the socket.io server. It is still not recommended to use this at the time,
                    as this feature is being at an early stage of development.
                </p>
                <div class="example">
                    <pre class="prettyprint"><span class="pln">                        </span><code class="language-php"><span class="pln">
</span><span class="kwd">require</span><span class="pun">(</span><span class="str">'ElephantIOClient.class.php'</span><span class="pun">);</span><span class="pln">

$elephant </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ElephantIOClient</span><span class="pun">(</span><span class="str">'http://localhost:1337'</span><span class="pun">);</span><span class="pln">

$elephant</span><span class="pun">-&gt;</span><span class="pln">init</span><span class="pun">();</span><span class="pln">
$elephant</span><span class="pun">-&gt;</span><span class="pln">send</span><span class="pun">(</span><span class="typ">ElephantIOClient</span><span class="pun">::</span><span class="pln">TYPE_MESSAGE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Hello World!'</span><span class="pun">);</span><span class="pln">
$elephant</span><span class="pun">-&gt;</span><span class="pln">keepAlive</span><span class="pun">();</span><span class="pln">
                        </span></code><span class="pln">
                    </span></pre>
                </div>
            </div>
            <div id="page-methods">
                <h2>Available Methods</h2>
                <p>
                <b>init($keepalive = false)</b><br>
                Init will initialize the connection to socket.io<br><br>
                <b>Parameters:</b><br>
                $keepalive - boolean - If true, the init launch keepAlive() at the end of the method
                <br><br><br><br>

                <b>keepAlive()</b><br>
                keepAlive make a persistent connection with socket.io by sending back heartbeats.
                <br><br><br><br>

                <b>read()</b><br>
                Read retrieve the latest incoming data.
                <br><br><br><br>

                <b>send($type, $id = null, $endpoint = null, $message = null)</b><br>
                Send allow you to send message to socket.io.<br><br>
                <b>Parameters:</b><br>
                $type - integer - the message type, you can use constants for more ease. Available constants:
                </p><ul>
                    <li>self::TYPE_DISCONNECT</li>
                    <li>self::TYPE_CONNECT</li>
                    <li>self::TYPE_HEARTBEAT</li>
                    <li>self::TYPE_MESSAGE</li>
                    <li>self::TYPE_JSON_MESSAGE</li>
                    <li>self::TYPE_EVENT</li>
                    <li>self::TYPE_ACK</li>
                    <li>self::TYPE_ERROR</li>
                    <li>self::TYPE_NOOP</li>
                </ul>
                $id - integer - optionnal id used for ack<br>
                $endpoint - string - optionnal socket.io endpoint<br>
                $message - string - optionnal message to transmit<br><br>
                <b>Example:</b>
                <div class="example">
                    <pre class="prettyprint"><span class="pln">                        </span><code class="language-php"><span class="pln">
$client</span><span class="pun">-&gt;</span><span class="pln">init</span><span class="pun">();</span><span class="pln">
$client</span><span class="pun">-&gt;</span><span class="pln">send</span><span class="pun">(</span><span class="typ">Client</span><span class="pun">::</span><span class="pln">TYPE_MESSAGE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="pun">‘</span><span class="typ">Hello</span><span class="pln"> </span><span class="typ">World</span><span class="pun">!’);</span><span class="pln">
                        </span></code><span class="pln">
                    </span></pre>
                </div>

                <br><br>
                <b>stdout($type, $message)</b><br>
                Allow you to print messages to stdout when executing in CLI.<br><br>
                <b>Parameters:</b><br>
                $type - string - the type of your message must be one of the following:<br>
                debug,<br>
                info,<br>
                error,<br>
                ok<br>
                $message - string - the message to print<br><br>
                <b>Example:</b>
                <div class="example">
                    <pre class="prettyprint"><span class="pln">                        </span><code class="language-php"><span class="pln">
$client</span><span class="pun">-&gt;</span><span class="pln">stdout</span><span class="pun">(‘</span><span class="pln">debug</span><span class="pun">’,</span><span class="pln"> </span><span class="pun">‘</span><span class="pln">connected</span><span class="pun">!’);</span><span class="pln">
                        </span></code><span class="pln">
                    </span></pre>
                </div>
            </div>
            <div id="page-future">
                <h2>Future Features :</h2>
                <ul>
                    <li>More user-friendly methods to communicate with socket.io</li>
                    <li>Better callback management</li>
                </ul>
                <p>
                    More to come... Feel free to submit your features requests on our Github issues page !
                </p>
            </div>
        </div>
        <div id="footer">
            <hr>
            Elephant.io by <a href="https://github.com/ludovicbarreca">Barreca Ludovic</a> at <a href="http://www.wisembly.com/">Wisembly</a>. Licensed under MIT License - Copyright Wisembly 2012
        </div>

        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-36053544-1']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();

        </script>
    

</body></html>