jQuery(document).ready(function(a){a(".reset_license").live("click",function(){var b=a(this).attr("id").replace("reset_license_",""),d=a("#site_license_button_"+b),e=a(".pue_reset_button_nonce",d).text();a(this);a.post(ajaxurl,{action:"pue_reset_key",license_key:b,nonce:e},function(c){c=JSON.parse(c);a(".pue_reset_button_complete",d).text(c.msg).show();a(".reset_license",d).fadeOut().remove();a("#pue_active_domain_msg","#license_key_"+b).fadeOut()});return!1});a(".request_reset").live("click",function(){var b=
a(this).attr("id").replace("request_license_","");a("#site_license_button_"+b);var d=a(this).text(),e=a("#pue_referrer").text();a.post(ajaxurl,{action:"pue_request_reset_form",license_key:b},function(b){a.colorbox({title:d,html:b,scrolling:!1,maxWidth:"800px",onComplete:function(){a("body").css("overflow","hidden");a("#pue_referrer_in_form").text(e)},onClosed:function(){a("body").css("overflow","auto")}})});return!1});a("#submit_reset_request").live("click",function(){var b=a("input#pue_rr_current_user").val(),
d=a("input#pue_rr_license_key").val(),e=a("textarea#pue_request_reason").val(),c=a("#_wpnonce_pue_request_form").val(),g=a("#site_license_button_"+d);a("#pue_referrer_in_form").text();var f=a("#reset_warning").text();""==e||null==e?(a("textarea#pue_request_reason").attr("style","border-color: red"),null==f||""==f?a("textarea#pue_request_reason").after('<span id="reset_warning" style="color: red">You must include a reason for your license key reset request. Thanks!</span>'):a("#reset_warning").text("No, really, we're serious, we need the reason :)")):
a.post(ajaxurl,{action:"pue_request_reset_form_submit",user:b,key:d,reason:e,nonce:c},function(b){b=JSON.parse(b);a.colorbox.remove();a("body").css("overflow","auto");a(".pue_reset_button_complete",g).text(b.msg).show();a(".pue_reset_pending",g).show()});return!1});a(document).bind("cbox_closed",function(){a.colorbox.remove();a("body").css("overflow","auto");return!0});a(".license_key_del").live("click",function(){var b=a(this).attr("id").replace("license_key_del_",""),d=a("#pue_current_user_id").text(),
e=a("#license_key_del_nonce_"+b).text(),c=a("#pue_license_type").text();confirm('Are you sure you want to delete the "'+b+" license key?")&&a.post(ajaxurl,{action:"pue_license_key_delete",user_id:d,key:b,nonce:e,type:c},function(c){!1!==JSON.parse(c).success&&a("#license_key_"+b).fadeOut().remove()});return!1});a("#pue_submit_new_license").live("click",function(){var b=a("#pue_current_user_id").text(),d=a("#pue_add_key_nonce").text(),e=a("#pue_quick_add_license").val(),c=a("#pue_license_type").text(),
g=a("#pue_free_key_toggle:checked").val(),f="";"user_license"==c?f="Are you sure you want to add a key?  Remember, this will replace the existing key!":"site_license_user"==c&&(f="Are you sure you want to add a key?");confirm(f)&&a.post(ajaxurl,{action:"pue_license_key_add",user_id:b,key:e,nonce:d,freekey:g,type:c},function(b){b=JSON.parse(b);b.success&&("user_license"==c?(a("li",".license_keys_list").fadeOut().remove(),a(".license_keys_list").fadeIn().add(b.contents),a("#pue_quick_add_license").val("")):
"site_license_user"==c&&a(".license_keys_list").fadeIn().prepend(b.contents),a("#pue_add_key_nonce").text(b.new_nonce))});return!1});a("#postbody").on("click","#plugin_pre_release",function(){a(".stable-release-select-container").toggle();a("#is_free_plugin_row").toggle()});a("#postbody").on("click","#is_free_plugin",function(){a("#plugin_pre_release_row").toggle()})});